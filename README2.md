ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡
# Partie 0
ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡

### 1. Mettre la premiÃ¨re carte de notre machine Ubuntu 2204 en NAT ou Bridge
### 2. Ajouter une seconde carte rÃ©seau Host-Only Adapter

Pour ajouter une deuxiÃ¨me carte rÃ©seau en mode Host-Only dans VirtualBox, tout en conservant la premiÃ¨re en mode NAT :

1. Assurez-vous que votre machine virtuelle est Ã©teinte complÃ©tement.
2. Ouvrez **VirtualBox** et sÃ©lectionnez la machine virtuelle concernÃ©e.
3. Allez dans **ParamÃ¨tres > RÃ©seau**.
4. Vous verrez que l'**Adaptateur 1** est dÃ©jÃ  configurÃ© en NAT.
5. Cliquez sur l'onglet **Adaptateur 2**.
6. Cochez la case **Activer l'adaptateur rÃ©seau**.
7. Dans le menu dÃ©roulant **AttachÃ© Ã **, choisissez **Adaptateur hÃ´te uniquement**.
8. SÃ©lectionnez le rÃ©seau hÃ´te appropriÃ© dans le menu **Nom** si plusieurs rÃ©seaux hÃ´tes sont disponibles.
9. Cliquez sur **OK** pour sauvegarder vos modifications.

### 2. Installer et configurer SSH

Une fois que votre machine virtuelle est configurÃ©e avec les deux cartes rÃ©seau, suivez les Ã©tapes ci-dessous pour installer et configurer SSH :

#### Installer OpenSSH Server
```bash
su
apt update
apt install openssh-server
```


#### VÃ©rifier le statut du service SSH

VÃ©rifiez si le service SSH fonctionne correctement avec :

```bash
sudo systemctl status ssh
```

Ou, pour les systÃ¨mes utilisant encore SysVinit :

```bash
sudo service ssh status
```

### 3. Connexion SSH

Vous pouvez maintenant vous connecter Ã  votre machine virtuelle via SSH. Utilisez l'adresse IP de la deuxiÃ¨me carte (Host-Only) pour Ã©tablir la connexion :

```bash
ssh votre_utilisateur@adresse_ip_host_only
```

Trouvez l'adresse IP avec `ip a` et cherchez l'interface correspondant Ã  l'adaptateur Host-Only.

ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡
# Partie 1:
ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡

- Il est nÃ©cessaire de configurer l'utilisateur `eleve` avec les privilÃ¨ges sudo avant de procÃ©der Ã  l'installation de Docker et de le rajouter au groupe Docker.
  
1. **Ajouter l'utilisateur 'eleve' aux sudoers sans demande de mot de passe**
   ```bash
   su
   echo "eleve ALL=(ALL) NOPASSWD:ALL" | sudo tee /etc/sudoers.d/eleve
   ```

2. **Se connecter en tant qu'utilisateur 'eleve'**
   ```bash
   su - eleve
   ```

3. **Installer Docker et ajouter l'utilisateur 'eleve' au groupe Docker**
   ```bash
   # Mettre Ã  jour les paquets et installer les prÃ©requis
   sudo apt-get update
   sudo apt-get install -y ca-certificates curl gnupg lsb-release

   # Ajouter la clÃ© GPG officielle de Docker
   sudo mkdir -p /etc/apt/keyrings
   sudo curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg

   # Ajouter le dÃ©pÃ´t Docker aux sources APT
   echo "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null

   # Installer Docker Engine, CLI et Containerd
   sudo apt-get update
   sudo apt-get install -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin

   # Ajouter l'utilisateur 'eleve' au groupe Docker
   sudo usermod -aG docker eleve
   ```

4. **Installer et dÃ©marrer Minikube**
   ```bash
   sudo apt update
   sudo apt install -y curl wget apt-transport-https

   # TÃ©lÃ©charger et installer Minikube
   sudo curl -LO https://storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64
   sudo install minikube-linux-amd64 /usr/local/bin/minikube

   # TÃ©lÃ©charger et installer kubectl
   sudo wget https://storage.googleapis.com/kubernetes-release/release/v1.15.3/bin/linux/amd64/kubectl
   sudo chmod +x kubectl
   sudo mv kubectl /usr/local/bin/

   # DÃ©marrer Minikube en tant qu'utilisateur 'eleve' (sans sudo)
   minikube start --driver=docker
   ```

5. **VÃ©rifier l'installation**
   ```bash
   kubectl cluster-info
   minikube status
   ```
ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡
# Partie 2:
ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡

```bash
minikube status
git clone https://github.com/hrhouma/kubernetes-prom-graf-1.git
cd kubernetes-prom-graf-1/
kubectl create namespace monitoring
kubectl create namespace kubernetes-dashboard
kubectl apply -f kube-state-metrics-service-account.yaml
kubectl apply -f kube-state-metrics-cluster-role.yaml
kubectl apply -f kube-state-metrics-cluster-role-binding.yaml
kubectl apply -f kube-state-metrics-deployment.yaml
kubectl apply -f kube-state-metrics-service.yaml
kubectl apply -f grafana-configmap.yaml
kubectl apply -f grafana-deployment.yaml
kubectl apply -f grafana-service.yaml
kubectl apply -f metrics-server-prometheus.deployment.yml
kubectl apply -f Web-UI-dashboard-adminuser.yml
kubectl apply -f Web-UI-newDeploy.yml
kubectl apply -f Web-UI-newDeploy.yml
kubectl apply -f admin-user-token.yaml
```

ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡
# Partie 3:
ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡ğŸ¥‡
